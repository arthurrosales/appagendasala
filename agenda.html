<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Agenda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar bg-white shadow-sm px-4">
    <h4 class="mb-0">Agenda de Salas</h4>
    <a href="index.html" class="btn btn-outline-danger">Sair</a>
</nav>

<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5>Reservas registradas</h5>

        <div>
            <a href="relatorios.html" class="btn btn-outline-secondary me-2">Relatórios</a>
            <a href="reserva.html" class="btn btn-primary">+ Nova Reserva</a>
        </div>
    </div>

    <table class="table table-bordered mt-3" id="tabelaAgenda">
        <thead class="table-light">
            <tr>
                <th>Sala</th>
                <th>Data</th>
                <th>Horário</th>
                <th>Motivo</th>
            </tr>
        </thead>
        <tbody id="listaReservas"></tbody>
    </table>
</div>

<script>
// ---------- Carregar reservas salvas ----------
function carregarReservas() {
    const reservas = JSON.parse(localStorage.getItem("reservas")) || [];

    const tbody = document.getElementById("listaReservas");
    tbody.innerHTML = "";

    if (reservas.length === 0) {
        tbody.innerHTML = `<tr><td colspan="4" class="text-center">Nenhuma reserva cadastrada.</td></tr>`;
        return;
    }

    reservas.forEach(r => {
        const linha = `
            <tr>
                <td>${r.sala}</td>
                <td>${r.data}</td>
                <td>${r.horario}</td>
                <td>${r.motivo}</td>
            </tr>
        `;
        tbody.innerHTML += linha;
    });
}

carregarReservas();
</script>

</body>
</html>

